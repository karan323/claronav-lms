<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern LMS - Learning Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        .nav-tabs .nav-link {
            border: none;
            border-radius: 0;
            color: #495057;
            font-weight: 500;
            font-size: 1.2rem;
        }
        .nav-tabs .nav-link i {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }
        .nav-tabs .nav-link.active {
            background-color: #667eea;
            color: white;
        }
        .card {
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .module-list {
            list-style: none;
            padding: 0;
        }
        .module-list li {
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
            font-size: 1.2rem;
        }
        .module-list li:last-child {
            border-bottom: none;
        }
        .module-list i {
            margin-right: 0.5rem;
            color: #667eea;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
                <img src="logo.png" alt="Claronav Kolahi Inc. Logo" class="me-3" style="max-height: 120px;">
                <div>
                    <h1 class="mb-0">Claronav Kolahi Inc.</h1>
                    <p class="lead mb-0">Training Material Neuronavigation</p>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <div class="dropdown me-2">
                    <button id="authBtn" class="btn btn-light">Login / Sign up</button>
                </div>
                <button id="menuToggle" class="btn btn-outline-light" aria-label="menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
                <div id="sideMenu" style="display:none; position:absolute; z-index:2000;">
            <div class="card" style="width:200px;">
                <div class="list-group list-group-flush">
                                        <a href="#home" id="menuHome" class="list-group-item list-group-item-action">Home</a>
                    <a href="#about" class="list-group-item list-group-item-action">About</a>
                    <a href="#support" class="list-group-item list-group-item-action">Support</a>
                </div>
            </div>
        </div>
    </header>

        <!-- Home Section -->
        <section id="home" class="py-5">
            <div class="container">
                <div class="row">
                    <div class="col-md-8">
                        <h2>About Claronav</h2>
                        <p class="lead">Navient is an innovative image-guided navigation system, utilizing the latest technologies in the field and bringing simplicity, accuracy and affordability to the surgical navigation system. Navient offers a truly portable cart along with powerful and intuitive software. Its instruments are steam sterilizable, and there is no disposable cost per procedure.</p>
                        <p>Navient is offered in two configurations, Navient and Navient ENT. Learn more at <a href="https://medical.claronav.com/" target="_blank">medical.claronav.com</a>.</p>
                    </div>
                    <div class="col-md-4">
                        <div class="card p-3">
                            <h5>Contact</h5>
                            <p class="mb-1"><strong>Email:</strong> <a href="mailto:info@claronav.com">info@claronav.com</a></p>
                            <p class="mb-1"><strong>Phone:</strong> +1 (647) 951-1525</p>
                            <p class="mb-1"><strong>Toll Free:</strong> +1 (844) 628-4336</p>
                            <p class="mb-0"><strong>Address:</strong><br>1140 Sheppard Ave W Unit 10<br>Toronto, Ontario, Canada M3K 2A2</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    <div class="container mt-5">
        <ul class="nav nav-tabs justify-content-center" id="learningTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="cranial-tab" data-bs-toggle="tab" data-bs-target="#cranial" type="button" role="tab" aria-controls="cranial" aria-selected="true">
                    <img src="cranial-logo.png" alt="Cranial" style="height: 40px; margin-right: 5px;"> Cranial Navigation
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="spine-tab" data-bs-toggle="tab" data-bs-target="#spine" type="button" role="tab" aria-controls="spine" aria-selected="false">
                    <img src="spine-logo.png" alt="Spine" style="height: 40px; margin-right: 5px;"> Spine Navigation
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="ent-tab" data-bs-toggle="tab" data-bs-target="#ent" type="button" role="tab" aria-controls="ent" aria-selected="false">
                    <img src="ent-logo.png" alt="ENT" style="height: 40px; margin-right: 5px;"> ENT Navigation
                </button>
            </li>
        </ul>
        <div class="tab-content mt-4" id="learningTabsContent">
            <div class="tab-pane fade show active" id="cranial" role="tabpanel" aria-labelledby="cranial-tab">
                <div class="row">
                    <div class="col-md-8">
                        <h3 style="font-size: 1.5rem;">Cranial Navigation Modules</h3>
                        <ul class="module-list">
                            <li><i class="fas fa-play-circle"></i> Introduction to Cranial Anatomy</li>
                            <li><i class="fas fa-play-circle"></i> Surgical Approaches to the Brain</li>
                            <li><i class="fas fa-play-circle"></i> Navigation Techniques in Neurosurgery</li>
                            <li><i class="fas fa-play-circle"></i> Case Studies: Cranial Procedures</li>
                            <li><i class="fas fa-play-circle"></i> Advanced Imaging for Cranial Navigation</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Progress</h5>
                                <div class="auth-only" style="display:none;">
                                    <div class="progress mb-3">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">60%</div>
                                    </div>
                                    <p class="card-text">3 out of 5 modules completed</p>
                                </div>
                                <div class="not-auth text-muted small">Sign in to view progress</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="spine" role="tabpanel" aria-labelledby="spine-tab">
                <div class="row">
                    <div class="col-md-8">
                        <h3 style="font-size: 1.5rem;">Spine Navigation Modules</h3>
                        <ul class="module-list">
                            <li><i class="fas fa-play-circle"></i> Spinal Anatomy and Biomechanics</li>
                            <li><i class="fas fa-play-circle"></i> Minimally Invasive Spine Surgery</li>
                            <li><i class="fas fa-play-circle"></i> Navigation in Spinal Fusion</li>
                            <li><i class="fas fa-play-circle"></i> Complications and Management</li>
                            <li><i class="fas fa-play-circle"></i> Rehabilitation Post-Spine Surgery</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Progress</h5>
                                <div class="auth-only" style="display:none;">
                                    <div class="progress mb-3">
                                        <div class="progress-bar bg-info" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">40%</div>
                                    </div>
                                    <p class="card-text">2 out of 5 modules completed</p>
                                </div>
                                <div class="not-auth text-muted small">Sign in to view progress</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="ent" role="tabpanel" aria-labelledby="ent-tab">
                <div class="row">
                    <div class="col-md-8">
                        <h3 style="font-size: 1.5rem;">ENT Navigation Modules</h3>
                        <ul class="module-list">
                            <li><i class="fas fa-play-circle"></i> Ear, Nose, and Throat Anatomy</li>
                            <li><i class="fas fa-play-circle"></i> Endoscopic Sinus Surgery</li>
                            <li><i class="fas fa-play-circle"></i> Navigation in Otologic Procedures</li>
                            <li><i class="fas fa-play-circle"></i> Laryngeal Surgery Techniques</li>
                            <li><i class="fas fa-play-circle"></i> Pediatric ENT Navigation</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Progress</h5>
                                <div class="auth-only" style="display:none;">
                                    <div class="progress mb-3">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">80%</div>
                                    </div>
                                    <p class="card-text">4 out of 5 modules completed</p>
                                </div>
                                <div class="not-auth text-muted small">Sign in to view progress</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Login / Signup Modal -->
        <div class="modal fade" id="authModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="authTitle">Login</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="authForm">
                            <div class="mb-3">
                                <label for="name" class="form-label">Name</label>
                                <input type="text" class="form-control" id="name" required>
                            </div>
                            <div class="mb-3">
                                <label for="serial" class="form-label">System Serial Number</label>
                                <input type="text" class="form-control" id="serial" required>
                            </div>
                            <div class="mb-3">
                                <label for="hospital" class="form-label">Hospital Name</label>
                                <input type="text" class="form-control" id="hospital" required>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Password</label>
                                <input type="password" class="form-control" id="password" required>
                            </div>
                            <div class="mb-2 text-danger" id="authError" style="display:none;"></div>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <input type="checkbox" id="isSignup"> <label for="isSignup">Sign up</label>
                                </div>
                                <button type="submit" class="btn btn-primary" id="authSubmit">Login</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Basic client-side auth using localStorage
            const authBtn = document.getElementById('authBtn');
            const menuToggle = document.getElementById('menuToggle');
            const sideMenu = document.getElementById('sideMenu');
            const authModal = new bootstrap.Modal(document.getElementById('authModal'));
            const authForm = document.getElementById('authForm');
            const authTitle = document.getElementById('authTitle');
            const authSubmit = document.getElementById('authSubmit');
            const isSignup = document.getElementById('isSignup');
            const authError = document.getElementById('authError');

            function updateAuthUI() {
                const user = JSON.parse(localStorage.getItem('lmsUser'));
                document.querySelectorAll('.auth-only').forEach(el => el.style.display = user ? '' : 'none');
                document.querySelectorAll('.not-auth').forEach(el => el.style.display = user ? 'none' : 'block');
                if (user) {
                    authBtn.textContent = user.name + ' (Logout)';
                } else {
                    authBtn.textContent = 'Login / Sign up';
                }
            }

            authBtn.addEventListener('click', () => {
                const user = JSON.parse(localStorage.getItem('lmsUser'));
                if (user) {
                    // logout
                    localStorage.removeItem('lmsUser');
                    updateAuthUI();
                } else {
                    // show modal
                    authTitle.textContent = 'Login';
                    authSubmit.textContent = 'Login';
                    authError.style.display = 'none';
                    isSignup.checked = false;
                    authModal.show();
                }
            });

            menuToggle.addEventListener('click', () => {
                // Position the sideMenu centered directly under the menuToggle button
                const rect = menuToggle.getBoundingClientRect();
                // account for page scroll
                const top = rect.bottom + window.scrollY + 6; // small gap
                const centerX = rect.left + window.scrollX + rect.width / 2;
                sideMenu.style.top = top + 'px';
                sideMenu.style.left = centerX + 'px';
                sideMenu.style.transform = 'translateX(-50%)';
                sideMenu.style.display = sideMenu.style.display === 'block' ? 'none' : 'block';
            });

            // Hide sideMenu when clicking outside
            document.addEventListener('click', (e) => {
                const target = e.target;
                if (!sideMenu.contains(target) && !menuToggle.contains(target)) {
                    sideMenu.style.display = 'none';
                }
            });

            // Menu Home link scroll handler
            const menuHome = document.getElementById('menuHome');
            if (menuHome) {
                menuHome.addEventListener('click', (e) => {
                    e.preventDefault();
                    document.getElementById('home').scrollIntoView({ behavior: 'smooth' });
                    sideMenu.style.display = 'none';
                });
            }

            authForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const name = document.getElementById('name').value.trim();
                const serial = document.getElementById('serial').value.trim();
                const hospital = document.getElementById('hospital').value.trim();
                const password = document.getElementById('password').value;
                if (!name || !serial || !hospital || !password) {
                    authError.textContent = 'Please fill all fields.';
                    authError.style.display = '';
                    return;
                }

                const users = JSON.parse(localStorage.getItem('lmsUsers') || '{}');
                if (isSignup.checked) {
                    if (users[serial]) {
                        authError.textContent = 'An account with this serial already exists.';
                        authError.style.display = '';
                        return;
                    }
                    users[serial] = { name, serial, hospital, password };
                    localStorage.setItem('lmsUsers', JSON.stringify(users));
                    localStorage.setItem('lmsUser', JSON.stringify({ name, serial, hospital }));
                    authModal.hide();
                    updateAuthUI();
                    return;
                }

                // login
                if (!users[serial] || users[serial].password !== password) {
                    authError.textContent = 'Invalid serial or password.';
                    authError.style.display = '';
                    return;
                }
                localStorage.setItem('lmsUser', JSON.stringify({ name: users[serial].name, serial, hospital: users[serial].hospital }));
                authModal.hide();
                updateAuthUI();
            });

            // initialize UI on load
            updateAuthUI();
        </script>
</body>
</html>